<div class="container py-4" *ngIf="ad">
  <div class="row">
    <!-- Left column -->
    <div class="col-md-8">
      <div class="card mb-3">
        <img *ngIf="ad.urlPhotos?.length" [src]="ad.urlPhotos[0]" class="card-img-top ad-image" />
        <div class="card-body">
          <h3>{{ ad.title }}</h3>
          <p class="text-muted">{{ ad.city }}, {{ ad.country }} • {{ ad.address }}</p>
          <p>{{ ad.description }}</p>
          <div>
            <small>Sobe: {{ ad.numberOfRooms }} • Površina: {{ ad.homeArea }}</small>
          </div>
        </div>
      </div>
    </div>

    <!-- Right column -->
    <div class="col-md-4">
      <!-- Reservation status -->
      <div
        *ngIf="reservationStatus"
        class="alert mt-2"
        [ngClass]="reservationStatus.isConfirmed ? 'alert-success' : 'alert-warning'"
      >
        {{ reservationStatus.message }}
      </div>

      <!-- Reservation form -->
      <div class="card p-3 mb-3">
        <h6>Napravi rezervaciju</h6>
        <form [formGroup]="reservationForm">
          <div class="mb-2">
            <input type="datetime-local" class="form-control" formControlName="startDate" />
          </div>
          <div class="mb-2">
            <input type="datetime-local" class="form-control" formControlName="endDate" />
          </div>
        </form>
        <button class="btn btn-primary w-100" (click)="createReservation()">Rezerviši</button>
      </div>

      <!-- Rating form -->
      <div class="card p-3">
        <h6>Ostavi ocenu</h6>
        <form [formGroup]="ratingForm">
          <div class="mb-2">
            <select class="form-select" formControlName="score">
              <option *ngFor="let s of [1, 2, 3, 4, 5]" [value]="s">{{ s }}</option>
            </select>
          </div>
          <div class="mb-2">
            <textarea rows="3" class="form-control" formControlName="comment"></textarea>
          </div>
        </form>
        <button class="btn btn-secondary w-100" (click)="createRating()">Oceni</button>
      </div>
    </div>
  </div>
</div>
